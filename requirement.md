# GuitarTab 專案需求文件（Requirements & Vision）

## 一、當前需求（MVP）

### 1. 樂譜編輯與預覽
- 以 Markdown 作為主要樂譜格式，支援歌詞、和弦、段落、標題等語法。
- 提供「編輯器 + 預覽」雙欄介面，編輯時即時預覽。
- 支援上傳/下載/儲存 .md 樂譜檔案。

### 2. 和弦即時轉調
- 可選擇原調、目標調、Capo 位置，和弦自動轉換。
- 支援常見和弦（含複合後綴、斜線和弦、等音偏好）。
- 轉調僅作用於和弦行，不影響歌詞。

### 3. PDF 匯出
- 可將目前預覽內容匯出為美觀 PDF，保留和弦、Tag、歌序等資訊。
- 支援列印友善樣式、單欄/雙欄、字級/行距自訂。

### 4. 小節 Tag 標記
- 每個小節可新增多個 Tag（如漸強、漸弱、Break、Solo、Repeat 等）。
- Tag 以圖示/色塊顯示於預覽與 PDF。
- Tag 可自訂、排序、批次套用。

### 5. 歌序/演出模式
- 可建立歌單，管理多首歌的順序。
- 「演出模式」下可全螢幕、快速切換歌單、字體放大。
- 每首歌可記憶獨立設定（Key/Capo/Tag/顯示選項）。

### 6. 主題與可及性
- 支援深色/淺色主題，並可自動偵測系統偏好。
- 支援鍵盤操作、ARIA 標籤、觸控友善。

### 7. 安全性
- Markdown 渲染結果需經 DOMPurify 過濾，防止 XSS。
- 下載檔名自動清理非法字元。

### 8. 效能
- 編輯/轉調/渲染需流暢，支援大檔案（分頁、分段渲染）。
- 轉調與渲染可考慮 Web Worker 實作。

---

## 二、未來展望（Vision & Advanced Features）

### 1. 進階樂譜語法
- 支援樂器分部（如吉他/貝斯/鼓/主唱分譜）。
- 支援段落重複、跳號、Coda、DS、Fine 等演奏記號。
- 支援 chordpro、YAML frontmatter 樂譜格式。

### 2. 互動與協作
- 多人協作編輯（雲端同步、Google Drive/Dropbox 整合）。
- 樂譜註解、留言、版本比對。
- 樂團成員分權限管理。

### 3. 智慧功能
- AI 輔助和弦分析、歌詞自動對齊和弦。
- 智慧轉調建議、和弦指型圖自動產生。
- 樂譜自動排版、段落自動分頁。

### 4. 行動裝置與演出
- 行動裝置友善介面、橫向/直向切換。
- 藍牙/USB 腳踏板支援（翻頁、切歌）。
- QR code 分享歌單、快速載入。

### 5. 生態系與擴充
- 樂譜範本/主題市集、社群分享。
- 外掛 API，允許第三方擴充（如自訂 Tag、分析工具）。
- 匯入/匯出多種格式（MusicXML、PDF、ChordPro、TXT）。

---

## 三、非功能性需求（NFR）
- 高穩定性、可維護性（TypeScript、單元測試、CI/CD）
- 良好文件與教學、國際化（i18n）
- 開源授權，歡迎社群貢獻

---

> 本文件將隨專案進展持續補充與調整。
